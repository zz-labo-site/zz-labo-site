<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <!-- Viewportè¨­å®š: ã‚¹ãƒãƒ›ã§ã®è¡¨ç¤ºå€ç‡ã‚’åˆ¶å¾¡ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZETTAI ZETSUMEI LABO | ARCHIVES</title>
    
    <!-- High-End Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@300;900&family=JetBrains+Mono:wght@400;700&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --acid-yellow: #EBBF00;
            --danger-red: #FF0000;
            --deep-black: #050505;
            --void-black: #000000;
            --text-white: #f0f0f0;
        }

        /* --- 1. Base Setup --- */
        *, *::before, *::after {
            box-sizing: border-box;
            /* ã‚¹ãƒãƒ›ã§ã®ã‚¿ãƒƒãƒ—ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’ç„¡åŠ¹åŒ– */
            -webkit-tap-highlight-color: transparent; 
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background-color: var(--deep-black);
            color: var(--text-white);
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            /* ã‚¹ãƒãƒ›ã§ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒã‚¦ãƒ³ã‚¹é˜²æ­¢ */
            overscroll-behavior: none;
        }

        /* PCã®ã¿ã‚«ãƒ¼ã‚½ãƒ«ã‚’æ¶ˆã™ï¼ˆã‚¹ãƒãƒ›ã§ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚«ãƒ¼ã‚½ãƒ«ãªã—ï¼‰ */
        @media (pointer: fine) {
            *, *::before, *::after {
                cursor: none !important; 
            }
        }

        /* --- 2. Background Graphics & Atmosphere --- */
        
        /* Canvas for Vital Waves */
        #bg-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; opacity: 0.3; pointer-events: none;
        }

        /* Toxic Fog Animation */
        .toxic-fog {
            position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background-image: radial-gradient(circle at 50% 50%, rgba(235, 191, 0, 0.05), transparent 60%),
                              radial-gradient(circle at 80% 20%, rgba(50, 50, 50, 0.1), transparent 40%);
            z-index: 2; pointer-events: none;
            animation: fog-move 20s infinite linear alternate; filter: blur(50px);
        }
        @keyframes fog-move {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(-10%, -5%) scale(1.1); }
        }

        /* Existing Noise */
        .noise-overlay {
            position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background: url('data:image/svg+xml;utf8,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noiseFilter"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noiseFilter)" opacity="0.4"/%3E%3C/svg%3E');
            opacity: 0.07; pointer-events: none; z-index: 999;
            animation: grain 8s steps(10) infinite;
        }
        @keyframes grain {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-5%, -10%); }
            50% { transform: translate(-15%, 10%); }
            90% { transform: translate(-10%, 10%); }
        }

        /* --- 3. Layers & Transitions --- */
        .layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            transition: transform 1s cubic-bezier(0.77, 0, 0.175, 1), opacity 1s ease;
        }
        #entrance-layer { z-index: 10; }
        #entrance-layer.exit { transform: scale(1.5); opacity: 0; pointer-events: none; }

        #blog-layer, #about-layer {
            z-index: 5; opacity: 0; transform: scale(0.95);
            overflow-y: scroll; scroll-behavior: smooth;
            scrollbar-width: none; -ms-overflow-style: none; pointer-events: none;
            -webkit-overflow-scrolling: touch; 
        }
        #blog-layer::-webkit-scrollbar, #about-layer::-webkit-scrollbar { display: none; }
        #blog-layer.active, #about-layer.active { opacity: 1; transform: scale(1); z-index: 20; pointer-events: auto; }

        /* --- 4. Typography & Layout --- */
        .hero-title {
            font-family: 'Anton', sans-serif; font-size: 12vw;
            text-transform: uppercase; line-height: 0.85; margin: 0;
            color: transparent; -webkit-text-stroke: 2px var(--text-white);
            position: relative; transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
            pointer-events: none;
        }
        .background-type {
            position: absolute; font-family: 'Anton', sans-serif; font-size: 25vw;
            line-height: 0.8; color: rgba(255, 255, 255, 0.03);
            white-space: nowrap; text-transform: uppercase; z-index: 3;
            pointer-events: none; user-select: none;
            left: 50%; top: 50%; transform: translate(-50%, -50%);
            mix-blend-mode: exclusion; animation: scroll-text 60s linear infinite;
        }
        @keyframes scroll-text {
            0% { transform: translate(-50%, -50%) translateX(0); }
            100% { transform: translate(-50%, -50%) translateX(-20%); }
        }
        @media (max-width: 768px) {
            .hero-title { font-size: 15vw; -webkit-text-stroke: 1px var(--text-white); }
            .background-type { 
                font-size: 40vw; writing-mode: vertical-rl;
                animation: scroll-text-mobile 60s linear infinite;
            } 
        }
        @keyframes scroll-text-mobile {
            0% { transform: translate(-50%, -50%) translateY(0); }
            100% { transform: translate(-50%, -50%) translateY(-20%); }
        }

        /* --- Warning Stripe Design for "ZETSUMEI" --- */
        .highlight {
            color: transparent;
            background-image: repeating-linear-gradient(-45deg, var(--acid-yellow), var(--acid-yellow) 10px, #000 10px, #000 20px);
            -webkit-background-clip: text; background-clip: text;
            -webkit-text-stroke: 2px #fff; display: inline-block;
            filter: drop-shadow(0 0 5px rgba(0,0,0,0.5));
        }

        /* --- 5. Logo --- */
        .logo-container {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%); width: 30vw; height: 30vw;
            max-width: 400px; max-height: 400px; min-width: 250px; min-height: 250px; 
            z-index: 20; display: flex; justify-content: center; align-items: center;
            transition: transform 0.1s; cursor: pointer;
        }
        .logo-container::before {
            content: ''; position: absolute; top: 50%; left: 50%;
            width: 100%; height: 100%; transform: translate(-50%, -50%);
            border-radius: 50%; box-shadow: 0 0 60px rgba(235, 191, 0, 0.2);
            z-index: -1; animation: pulse-glow 3s infinite ease-in-out;
            pointer-events: none; transition: box-shadow 0.2s, background 0.2s;
        }
        @keyframes pulse-glow {
            0%, 100% { width: 100%; height: 100%; opacity: 0.5; }
            50% { width: 130%; height: 130%; opacity: 0.1; }
        }
        .logo-img { width: 100%; height: 100%; object-fit: contain; filter: url(#liquid); transition: filter 0.3s; }
        .logo-placeholder-circle {
            width: 100%; height: 100%; border: 2px dashed rgba(235, 191, 0, 0.3);
            border-radius: 50%; display: none; justify-content: center; align-items: center;
            flex-direction: column; color: rgba(235, 191, 0, 0.5);
            font-family: 'JetBrains Mono', monospace; font-size: 12px; letter-spacing: 2px;
            animation: pulse-border 2s infinite; text-align: center;
        }
        .logo-placeholder-circle span {
            font-size: 3rem; color: var(--acid-yellow); font-family: 'Anton', sans-serif; margin-bottom: 10px;
        }

        /* --- 6. Blog & Video --- */
        .blog-section {
            height: 100vh; width: 100%; display: flex; flex-direction: column;
            justify-content: center; align-items: flex-start; padding: 5vw;
            border-bottom: 1px solid rgba(255,255,255,0.1); position: relative; box-sizing: border-box;
        }
        @media (max-width: 768px) {
            .blog-section { height: auto; min-height: 80vh; padding: 20vh 5vw 10vh; }
        }
        .blog-number {
            font-family: 'JetBrains Mono', monospace; color: var(--acid-yellow);
            font-size: 1.2rem; margin-bottom: 1rem; display: block;
        }
        .blog-title {
            font-family: 'Noto Sans JP', 'Anton', sans-serif; font-weight: 900;
            font-size: 8vw; line-height: 1.1; text-transform: uppercase;
            color: transparent; -webkit-text-stroke: 1px #fff;
            transition: color 0.3s; cursor: pointer; word-break: keep-all; max-width: 90%;
        }
        @media (max-width: 768px) { .blog-title { font-size: 12vw; } }
        .blog-title.loading {
            font-size: 4vw; color: rgba(255, 255, 255, 0.2); -webkit-text-stroke: 0;
            animation: blink-text 1s infinite;
        }
        @keyframes blink-text { 0%{opacity:0.5} 100%{opacity:1} }
        .blog-title:not(.loading):hover { color: var(--acid-yellow); -webkit-text-stroke: 0; }
        .blog-meta {
            margin-top: 2rem; font-family: 'JetBrains Mono', 'Noto Sans JP', monospace;
            font-size: 1rem; color: rgba(255,255,255,0.7); max-width: 700px; line-height: 1.6;
        }

        /* --- Play Simulation Button Effect (New) --- */
        .play-simulation-btn {
            color: var(--acid-yellow);
            cursor: pointer;
            transition: color 0.2s;
            display: inline-block;
            font-weight: bold;
            font-family: 'JetBrains Mono', monospace;
        }

        .play-simulation-btn:hover {
            color: var(--danger-red);
            animation: alert-blink 0.1s infinite alternate; /* é«˜é€Ÿç‚¹æ»… */
            text-shadow: 0 0 5px var(--danger-red);
        }

        @keyframes alert-blink {
            0% { opacity: 1; text-shadow: 0 0 10px var(--danger-red); }
            100% { opacity: 0.4; text-shadow: 0 0 2px var(--danger-red); }
        }

        /* Video Layer (Updated for Size) */
        #video-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.98); z-index: 100; display: none;
            overflow-y: auto; opacity: 0; transition: opacity 0.5s;
            -webkit-overflow-scrolling: touch;
        }
        #video-layer.active { display: block; opacity: 1; }
        
        .article-container {
            width: 100%;
            /* PC: å¹…ã‚’åºƒã’ã¦å‹•ç”»ã‚’å¤§ããè¦‹ã›ã‚‹ */
            max-width: 1400px; 
            margin: 0 auto;
            padding: 100px 5vw 150px; 
            display: flex; flex-direction: column; gap: 20px;
        }
        /* Mobile Padding Adjustment: å‹•ç”»ã‚’ç”»é¢å¹…ã„ã£ã±ã„ã« */
        @media (max-width: 768px) { 
            .article-container { padding: 80px 0 150px; } 
            .video-wrapper {
                border-left: none; border-right: none;
            }
            /* è¨˜äº‹ã®æ–‡å­—éƒ¨åˆ†ã¯ä½™ç™½ã‚’æŒãŸã›ã‚‹ */
            .article-header, .article-body, .player-controls {
                padding-left: 5vw; padding-right: 5vw;
            }
        }
        
        .video-wrapper {
            width: 100%; aspect-ratio: 16/9; border: 1px solid var(--acid-yellow);
            box-shadow: 0 0 30px rgba(235, 191, 0, 0.1); background: #000; position: relative;
        }
        .video-wrapper iframe { width: 100%; height: 100%; border: none; }
        .player-controls {
            margin-top: 10px; margin-bottom: 40px; display: flex; gap: 20px;
            align-items: center; justify-content: center; flex-wrap: wrap;
        }
        .close-btn, .fallback-btn {
            font-family: 'Anton', sans-serif; font-size: 1.2rem;
            color: var(--text-white); cursor: pointer; text-transform: uppercase;
            border: 1px solid rgba(255,255,255,0.3); padding: 15px 40px;
            transition: all 0.3s; text-decoration: none; background: transparent;
            display: inline-block; white-space: nowrap;
        }
        @media (max-width: 768px) {
            .close-btn, .fallback-btn { padding: 12px 25px; font-size: 1rem; flex: 1 1 40%; text-align: center; }
        }
        .close-btn:hover { background: var(--text-white); color: #000; }
        .fallback-btn { color: var(--acid-yellow); border-color: var(--acid-yellow); }
        .fallback-btn:hover { background: var(--acid-yellow); color: #000; }
        .embed-hint {
            font-family: 'JetBrains Mono', monospace; font-size: 10px;
            color: rgba(255,255,255,0.5); text-align: center;
            margin-top: -10px; margin-bottom: 20px;
        }
        
        /* Article */
        .article-header { border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 20px; margin-bottom: 20px; }
        .article-id { font-family: 'JetBrains Mono', monospace; color: var(--acid-yellow); font-size: 0.9rem; display: block; margin-bottom: 10px; }
        .article-title { font-family: 'Noto Sans JP', sans-serif; font-weight: 900; font-size: clamp(2rem, 5vw, 4rem); line-height: 1.2; color: #fff; margin: 0; }
        .article-body { font-family: 'Noto Sans JP', sans-serif; font-size: 1rem; line-height: 2; color: rgba(255,255,255,0.9); }
        .article-body h3 { font-family: 'JetBrains Mono', 'Noto Sans JP', sans-serif; color: var(--acid-yellow); font-size: 1.5rem; margin-top: 3rem; margin-bottom: 1rem; border-left: 4px solid var(--acid-yellow); padding-left: 15px; }
        .article-body p { margin-bottom: 1.5rem; }

        /* --- 8. About --- */
        #about-layer .blog-section { height: auto; min-height: 100vh; padding-top: 15vh; padding-bottom: 10vh; }
        .about-content { max-width: 800px; margin-top: 2rem; font-family: 'Noto Sans JP', sans-serif; line-height: 2; color: rgba(255,255,255,0.8); }
        .about-list { list-style: none; padding: 0; margin: 2rem 0; }
        .about-list li { margin-bottom: 1rem; padding-left: 1.5rem; position: relative; }
        .about-list li::before { content: '>'; position: absolute; left: 0; color: var(--acid-yellow); font-weight: bold; }
        .policy-box { border: 1px solid rgba(255, 255, 255, 0.2); padding: 1.5rem; margin-top: 3rem; font-size: 0.85rem; background: rgba(255, 255, 255, 0.05); }

        /* --- 9. HUD --- */
        .hud-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 50; pointer-events: none; padding: 2rem; display: flex; flex-direction: column; justify-content: space-between; }
        @media (max-width: 768px) { .hud-overlay { padding: 1.5rem; } }
        .hud-row { display: flex; justify-content: space-between; align-items: flex-start; }
        .meta-data { font-family: 'JetBrains Mono', monospace; font-size: 12px; color: rgba(255, 255, 255, 0.6); line-height: 1.5; text-transform: uppercase; }
        @media (max-width: 768px) { .meta-data { font-size: 10px; } }
        .meta-data strong { color: var(--acid-yellow); }
        .scroll-indicator { position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%); font-family: 'JetBrains Mono', monospace; font-size: 10px; color: var(--acid-yellow); letter-spacing: 2px; animation: blink 2s infinite; }
        @keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.3; } }

        /* --- 10. Custom Cursor --- */
        /* Outer Circle (Base) - Always Visible */
        .cursor-outer {
            position: fixed; width: 60px; height: 60px;
            /* ãƒ™ãƒ¼ã‚¹ã®å††ã‚’è¡¨ç¤ºï¼ˆå¸¸æ™‚è¦‹ãˆã‚‹ã‚ˆã†ã«èª¿æ•´ï¼‰ */
            border: 1px solid rgba(255, 255, 255, 0.8); 
            border-radius: 50%; pointer-events: none; z-index: 1000;
            transform: translate(-50%, -50%);
            /* transformã‚’transitionã‹ã‚‰é™¤å¤– */
            transition: width 0.3s, height 0.3s, background 0.3s, border 0.2s;
            /* åˆæˆãƒ¢ãƒ¼ãƒ‰ã‚’é€šå¸¸ã«æˆ»ã—ã¦è¦–èªæ€§ç¢ºä¿ */
            mix-blend-mode: normal;
            box-shadow: 0 0 10px rgba(255,255,255,0.2); /* å¸¸æ™‚å¾®ç™ºå…‰ */
        }

        /* Electric Ring Effect - White */
        .cursor-outer::before {
            content: ''; position: absolute; top: -5px; left: -5px; right: -5px; bottom: -5px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 50%; 
            transition: all 0.1s;
            opacity: 0.5;
        }

        /* Moving State: Electricity (Dashed, White, Glow) */
        .cursor-outer.moving {
            border-color: #fff;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        
        .cursor-outer.moving::before {
            border: 2px dashed #ffffff;
            box-shadow: 
                0 0 10px rgba(255, 255, 255, 0.8), 
                inset 0 0 5px rgba(255, 255, 255, 0.5);
            opacity: 1;
            filter: blur(1px); 
            animation: spin-electric 0.4s linear infinite;
        }
        @keyframes spin-electric {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }

        /* Warning State */
        .cursor-outer.warning {
            width: 120px; height: 120px;
            background: var(--danger-red);
            mix-blend-mode: overlay;
            border: 2px solid var(--danger-red);
            box-shadow: 0 0 20px var(--danger-red);
        }
        .cursor-outer.warning::before { display: none; }

        /* Inner Dot */
        .cursor-inner {
            position: fixed; width: 6px; height: 6px;
            background: var(--acid-yellow); border-radius: 50%;
            pointer-events: none; z-index: 1001;
            transform: translate(-50%, -50%);
            transition: background-color 0.2s;
            mix-blend-mode: normal;
        }
        .cursor-inner.warning { background: var(--danger-red); transform: translate(-50%, -50%) scale(0.5); }

        /* Spark Particle */
        .spark {
            position: fixed; width: 3px; height: 3px;
            background: #fff; border-radius: 50%;
            pointer-events: none; z-index: 1002;
            box-shadow: 0 0 5px #fff;
        }

        /* ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ï¼ˆæŒ‡æ“ä½œï¼‰ã®æ™‚ã ã‘æ¶ˆã™ï¼ˆPCã§ã¯å¸¸ã«è¡¨ç¤ºï¼‰ */
        @media (pointer: coarse) {
            .cursor-outer, .cursor-inner { display: none !important; }
        }

        /* --- 11. Nav Dock --- */
        .nav-dock { position: fixed; right: 2rem; top: 50%; transform: translateY(-50%); z-index: 900; display: flex; flex-direction: column; gap: 1.5rem; pointer-events: auto; }
        @media (max-width: 768px) { .nav-dock { right: 1rem; gap: 1rem; } }
        .nav-btn {
            width: 44px; height: 44px; border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%; display: flex; justify-content: center; align-items: center;
            color: var(--text-white); background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(4px);
            transition: all 0.3s ease; cursor: pointer; text-decoration: none;
        }
        @media (max-width: 768px) { .nav-btn { width: 38px; height: 38px; } .nav-btn svg { width: 18px; height: 18px; } }
        .nav-btn.square { border-radius: 4px; border-color: var(--acid-yellow); color: var(--acid-yellow); }
        .nav-btn.square svg path { fill: var(--acid-yellow); } /* ã‚¢ã‚¤ã‚³ãƒ³è‰²æŒ‡å®š */
        .nav-btn:hover { border-color: var(--acid-yellow); background: var(--acid-yellow); color: #000; box-shadow: 0 0 15px rgba(235, 191, 0, 0.5); transform: scale(1.1); }
        .nav-btn:hover svg path { fill: #000; }
        .nav-btn svg { width: 20px; height: 20px; fill: currentColor; }
        .nav-separator { width: 1px; height: 20px; background: rgba(255,255,255,0.2); margin: 0 auto; }
        @media (min-width: 1025px) {
            .nav-btn::after {
                content: attr(data-tooltip); position: absolute; right: 55px;
                background: var(--acid-yellow); color: #000; padding: 2px 6px;
                font-family: 'JetBrains Mono', monospace; font-size: 10px;
                opacity: 0; pointer-events: none; transition: opacity 0.3s; white-space: nowrap;
            }
            .nav-btn:hover::after { opacity: 1; }
        }

        /* --- 12. Utilities --- */
        .upload-ui { pointer-events: auto; margin-top: 10px; text-align: right; opacity: 0.5; transition: opacity 0.3s; }
        .upload-ui:hover { opacity: 1; }
        .upload-btn { background: transparent; border: 1px solid var(--acid-yellow); color: var(--acid-yellow); font-family: 'JetBrains Mono', monospace; font-size: 10px; padding: 5px 10px; cursor: pointer; text-transform: uppercase; transition: all 0.3s; display: inline-block; }
        .upload-btn:hover { background: var(--acid-yellow); color: #000; }
        #fileInput { display: none; }
        .glitch-transition { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #EBBF00; z-index: 9000; display: none; mix-blend-mode: exclusion; }
        .danger-flash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, rgba(255,0,0,0.4) 0%, rgba(255,0,0,0.8) 100%); z-index: 5000; opacity: 0; pointer-events: none; mix-blend-mode: overlay; transition: opacity 0.1s; }
        .danger-flash.active { animation: red-strobe 0.12s infinite; }
        @keyframes red-strobe { 0% { opacity: 0; } 50% { opacity: 0.8; } 100% { opacity: 0; } }

    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>
    <svg style="display: none;">
        <defs>
            <filter id="liquid">
                <feTurbulence type="fractalNoise" baseFrequency="0.01 0.005" numOctaves="2" result="warp" />
                <feDisplacementMap xChannelSelector="R" yChannelSelector="G" scale="30" in="SourceGraphic" in2="warp" />
            </filter>
        </defs>
    </svg>

    <div class="toxic-fog"></div>
    <div class="noise-overlay"></div>
    <div class="danger-flash" id="danger-overlay"></div>
    <div class="cursor-outer"></div>
    <div class="cursor-inner"></div>
    <div class="glitch-transition" id="transition-overlay"></div>

    <div class="loader">
        <div class="loader-text">ZZ LABO</div>
        <div class="counter">00</div>
    </div>

    <!-- HUD (Deleted Preview Button) -->
    <div class="hud-overlay">
        <!-- Changed to Center Alignment -->
        <div class="hud-row" style="justify-content: center;">
            <div class="meta-data" style="text-align: center;">
                ID: ZETTAI-001<br>
                <strong>SYSTEM: ONLINE</strong>
            </div>
        </div>
        
        <div class="hud-row" style="align-items: flex-end;">
            <div class="meta-data" id="status-text">PROTOCOL: SURVIVAL<br>STATUS: WAITING FOR INPUT</div>
            <!-- Removed Upload UI -->
            <div class="upload-ui">
                <label for="fileInput" class="upload-btn">[ PREVIEW: OVERRIDE IMAGE ]</label>
                <input type="file" id="fileInput" accept="image/*">
            </div>
        </div>
        <div class="scroll-indicator" id="scroll-hint">INITIALIZE PROTOCOL</div>
    </div>

    <!-- NAV -->
    <div class="nav-dock">
        <div class="nav-btn square" onclick="resetSite()" data-tooltip="TOP / RESET"><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg></div>
        <div class="nav-btn square" onclick="goBack()" data-tooltip="BACK"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg></div>
        <div class="nav-btn square" onclick="showAbout()" data-tooltip="ABOUT LAB"><svg viewBox="0 0 24 24"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></div>
        <div class="nav-separator"></div>
        <a href="https://www.youtube.com/@%E7%B5%B6%E4%BD%93%E7%B5%B6%E5%91%BD%E3%83%A9%E3%83%9C" target="_blank" class="nav-btn" data-tooltip="YOUTUBE"><svg viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/></svg></a>
        <a href="https://x.com/ZZLAB48210" target="_blank" class="nav-btn" data-tooltip="X / TWITTER"><svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
        <a href="https://www.instagram.com/zz_lab2026/" target="_blank" class="nav-btn" data-tooltip="INSTAGRAM"><svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>
    </div>

    <!-- ENTRANCE -->
    <div id="entrance-layer" class="layer">
        <div class="distortion-container">
            <div class="background-type">SURVIVAL / HAZARD / CHAOS / SURVIVAL / HAZARD / SURVIVAL / HAZARD / CHAOS / SURVIVAL / HAZARD</div>
            <div class="logo-container" id="main-logo-container" onclick="enterArchives()">
                <img id="preview-logo" src="logo.png" alt="ZZ LOGO" class="logo-img">
                <div id="placeholder" class="logo-placeholder-circle"><span>ZZ</span><div>LOGO.PNG NOT FOUND<br>PLEASE PLACE FILE</div></div>
            </div>
            <div class="hero-title-wrapper"><h1 class="hero-title">ZETTAI<br><span class="highlight">ZETSUMEI</span><br>LABORATORY</h1></div>
        </div>
    </div>

    <!-- BLOG -->
    <div id="blog-layer" class="layer">
        <div id="archive-container"></div>
        <section class="blog-section" style="height: 50vh; justify-content: flex-end;"><div class="meta-data">END OF ARCHIVES<br>Â© 2026 ZETTAI ZETSUMEI LABO</div></section>
    </div>

    <!-- VIDEO/ARTICLE -->
    <div id="video-layer">
        <div class="article-container">
            <div class="video-wrapper"><div id="youtube-embed-target"></div></div>
            <div class="player-controls">
                <button class="close-btn" onclick="closeVideo()">CLOSE MONITOR</button>
                <a id="fallback-link" href="#" target="_blank" class="fallback-btn">WATCH ON YOUTUBE</a>
            </div>
            <div class="embed-hint">IF ERROR 153: ENABLE EMBEDDING IN YOUTUBE STUDIO</div>
            <div id="article-content-target"></div>
        </div>
    </div>

    <!-- ABOUT -->
    <div id="about-layer" class="layer">
        <section class="blog-section">
            <h2 class="blog-title" style="font-size: 6vw;">ABOUT THE LAB</h2>
            <div class="about-content">
                <p style="font-size: 1.2rem; font-weight: bold; margin-bottom: 2rem;">ğŸ’€ã€Œçµ¶ä½“çµ¶å‘½ãƒ©ãƒœã€ã¸ã‚ˆã†ã“ãã€‚</p>
                <p>ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã§ã¯ã€æ—¥å¸¸ã§ã¯ã‚ã¾ã‚Šæ„è­˜ã™ã‚‹ã“ã¨ã®ãªã„ã€Œæœ€æ‚ªã®ã‚·ãƒŠãƒªã‚ªã€ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã€ç§‘å­¦çš„æ ¹æ‹ ã«åŸºã¥ã„ãŸã€Œç”Ÿå­˜ç¢ºç‡ã‚’ä¸Šã’ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ã€ã‚’ç ”ç©¶ãƒ»ç™ºä¿¡ã—ã¦ã„ã¾ã™ğŸ“ˆ</p>
                <h3 style="color:var(--acid-yellow); font-family:'Anton'; font-size:2rem; margin-top:3rem;">RESEARCH THEMES</h3>
                <ul class="about-list">
                    <li><strong>ğŸ†˜ å±æ©Ÿå›é¿ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</strong><br>ã€ã‚‚ã—ã‚‚ã€ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼ãŒè½ä¸‹ã—ãŸã‚‰ï¼ï¼Ÿã€ãªã©ã€èº«è¿‘ãªææ€–ã¸ã®å¯¾å‡¦æ³•ã€‚</li>
                    <li><strong>ğŸ§  ç”Ÿå­˜ã®ç§‘å­¦</strong><br>ãªãœãã®è¡Œå‹•ãŒNGãªã®ã‹ï¼ŸğŸ™…â€â™‚ï¸ äººä½“ã‚„ç‰©ç†ã®ä»•çµ„ã¿ã‹ã‚‰è§£èª¬ğŸ“š</li>
                    <li><strong>â±ï¸ 60ç§’ã‚µãƒã‚¤ãƒãƒ«</strong><br>ã„ã–ã¨ã„ã†æ™‚ã€ç¬æ™‚ã«æ€ã„å‡ºã›ã‚‹çŸ¥è­˜ã‚’ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»ã§å‡ç¸®âš¡</li>
                </ul>
                <div class="policy-box">
                    <strong style="color:var(--acid-yellow)">âš ï¸ POLICY</strong><br>
                    å½“ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã€éåº¦ãªææ€–ã‚„ãƒˆãƒ©ã‚¦ãƒã‚’ä¸ãˆã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã›ã‚“ğŸš«<br>
                    YouTubeã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’éµå®ˆã—ã€ã‚ãã¾ã§ã€Œå±æ©Ÿç®¡ç†èƒ½åŠ›ã®å‘ä¸Šã€ğŸ›¡ï¸ã¨ã€Œå­¦è¡“çš„ãªæƒ…å ±æä¾›ã€ğŸ“ã‚’ç›®çš„ã¨ã—ãŸæ•™è‚²ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆã§ã™ã€‚
                </div>
            </div>
        </section>
    </div>

    <script>
        /* DATA */
        const archives = [
            {
                id: "01",
                youtubeId: "gqx7CXlYAys", 
                title: "ç¡«é…¸ã®è„…å¨", 
                description: "çš®è†šæ¥è§¦ã«ã‚ˆã‚‹é‡åº¦ç†±å‚·ã®å±é™ºæ€§ã€‚æ°´ã¨ã®åå¿œç†±ã«æ³¨æ„ã›ã‚ˆã€‚ç·Šæ€¥æ™‚ã®æ´—æµ„æ‰‹é †ã¨ä¸­å’Œå‰¤ã®èª¤ç”¨ã«ã¤ã„ã¦è§£èª¬ã™ã‚‹ã€‚",
                dangerLevel: "CRITICAL",
                articleHtml: `
                    <div class="article-header">
                        <span class="article-id">CASE_FILE #01</span>
                        <h1 class="article-title">ç¡«é…¸ã®è„…å¨</h1>
                    </div>
                    <div class="article-body">
                        <p>ç¡«é…¸ï¼ˆHâ‚‚SOâ‚„ï¼‰ã¯ã€æ¥µã‚ã¦å¼·åŠ›ãªè„±æ°´ä½œç”¨ã¨é…¸åŒ–ä½œç”¨ã‚’æŒã¤åŠ‡ç‰©ã§ã™ã€‚çš®è†šã«ä»˜ç€ã—ãŸå ´åˆã€ç¬æ™‚ã«çµ„ç¹”ã®æ°´åˆ†ã‚’å¥ªã„ãªãŒã‚‰ç‚­åŒ–ã•ã›ã€é‡åº¦ã®åŒ–å­¦ç†±å‚·ã‚’å¼•ãèµ·ã“ã—ã¾ã™ã€‚</p>
                        <h3>ç·Šæ€¥æ™‚ã®å¯¾å‡¦æ³•ï¼šæ°´æ´—ã„ã‹ï¼Ÿæ‹­ãå–ã‚Šã‹ï¼Ÿ</h3>
                        <p>ä¸€èˆ¬çš„ãªåŒ–å­¦è–¬å“ã®å¯¾å‡¦æ³•ã¨ã—ã¦ã€Œå¤§é‡ã®æ°´ã§æ´—ã„æµã™ã€ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™ãŒã€æ¿ƒç¡«é…¸ã®å ´åˆã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚æ°´ã¨åå¿œã™ã‚‹ã¨æ€¥æ¿€ãªç™ºç†±ï¼ˆæº¶è§£ç†±ï¼‰ãŒç”Ÿã˜ã€ç†±ã«ã‚ˆã‚‹äºŒæ¬¡è¢«å®³ã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚</p>
                        <p>ã—ã‹ã—ã€ãã‚Œã§ã‚‚ãªãŠã€<strong>å¤§é‡ã®æ°´ã§ä¸€æ°—ã«æ´—ã„æµã™ã“ã¨</strong>ãŒã€çµæœçš„ã«æœ€ã‚‚ç”Ÿå­˜ç‡ã‚’é«˜ã‚ã‚‹æ–¹æ³•ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸­é€”åŠç«¯ãªæ°´é‡ã§ã¯ç†±å‚·ãŒæ‚ªåŒ–ã™ã‚‹ãŸã‚ã€ãƒ›ãƒ¼ã‚¹ãªã©ã§å¤§é‡ã®æ°´ã‚’ã‹ã‘ç¶šã‘ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p>
                        <h3>ä¸­å’Œå‰¤ã®èª¤ç”¨ã«ã¤ã„ã¦</h3>
                        <p>ã‚¢ãƒ«ã‚«ãƒªæ€§ã®ã‚‚ã®ã§ä¸­å’Œã—ã‚ˆã†ã¨ã™ã‚‹è¡Œç‚ºã¯è‡ªæ®ºè¡Œç‚ºã§ã™ã€‚ä¸­å’Œç†±ã«ã‚ˆã‚Šã•ã‚‰ã«é«˜æ¸©ã«ãªã‚Šã€å‚·å£ã‚’æ·±ã‚ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚çµ¶å¯¾ã«ã‚„ã‚ã¦ãã ã•ã„ã€‚</p>
                    </div>
                `
            },
            {
                id: "02",
                youtubeId: "M7lc1UVf-VE",
                title: "ç¡çœ è–¬ã®OD",
                description: "ä¸­æ¢ç¥çµŒæŠ‘åˆ¶ã«ã‚ˆã‚‹å‘¼å¸åœæ­¢ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€‚è‡´æ­»é‡ã«è‡³ã‚‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¨ã€ç™ºè¦‹æ™‚ã®å¿œæ€¥å‡¦ç½®(æ°—é“ç¢ºä¿)ã«ã¤ã„ã¦ã€‚",
                dangerLevel: "HIGH",
                articleHtml: `
                    <div class="article-header"><span class="article-id">CASE_FILE #02</span><h1 class="article-title">ç¡çœ è–¬ã®OD</h1></div>
                    <div class="article-body"><p>è¨˜äº‹ã®æº–å‚™ä¸­ã§ã™...</p></div>
                `
            },
            {
                id: "03",
                youtubeId: "dQw4w9WgXcQ",
                title: "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼è½ä¸‹",
                description: "è‡ªç”±è½ä¸‹æ™‚ã®è¡æ’ƒåˆ†æ•£å§¿å‹¢ã«ã¤ã„ã¦ã€‚ã‚¸ãƒ£ãƒ³ãƒ—èª¬ã®èª¤è¬¬ã¨ã€ç‰©ç†å­¦çš„ã«æœ€ã‚‚ç”Ÿå­˜ç‡ãŒé«˜ã„å§¿å‹¢ã‚’æ¤œè¨¼ã™ã‚‹ã€‚",
                dangerLevel: "MEDIUM",
                articleHtml: `
                    <div class="article-header"><span class="article-id">CASE_FILE #03</span><h1 class="article-title">ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼è½ä¸‹</h1></div>
                    <div class="article-body"><p>è¨˜äº‹ã®æº–å‚™ä¸­ã§ã™...</p></div>
                `
            }
        ];

        /* LOGIC */
        function renderArchives() {
            const container = document.getElementById('archive-container');
            let html = '';
            archives.forEach(item => {
                html += `
                <section class="blog-section">
                    <span class="blog-number">CASE_FILE #${item.id} // DANGER LEVEL: ${item.dangerLevel}</span>
                    <h2 class="blog-title" onclick="openVideo('${item.id}')">${item.title}</h2>
                    <div class="blog-meta">
                        TARGET: ${item.title}<br>STATUS: ${item.description}<br><br>
                        <span class="play-simulation-btn" onclick="openVideo('${item.id}')">[ PLAY SIMULATION ]</span>
                    </div>
                </section>`;
            });
            container.innerHTML = html;
        }
        renderArchives();

        let navHistory = []; 
        function getCurrentLayer() {
            if (document.getElementById('blog-layer').classList.contains('active')) return 'blog';
            if (document.getElementById('about-layer').classList.contains('active')) return 'about';
            if (!document.getElementById('entrance-layer').classList.contains('exit')) return 'entrance';
            return 'entrance';
        }

        function restoreLayer(layerName) {
            const entrance = document.getElementById('entrance-layer');
            const blog = document.getElementById('blog-layer');
            const about = document.getElementById('about-layer');
            const status = document.getElementById('status-text');
            const hint = document.getElementById('scroll-hint');

            blog.classList.remove('active');
            about.classList.remove('active');

            if (layerName === 'entrance') {
                entrance.classList.remove('exit');
                status.innerHTML = "PROTOCOL: SURVIVAL<br>STATUS: WAITING FOR INPUT";
                hint.innerText = "INITIALIZE PROTOCOL";
                document.body.style.overflowY = 'hidden';
            } else {
                if (!entrance.classList.contains('exit')) entrance.classList.add('exit');
                document.body.style.overflowY = 'auto';
                document.body.style.cursor = 'auto';
                if (layerName === 'blog') {
                    blog.classList.add('active');
                    status.innerHTML = "PROTOCOL: ARCHIVES<br>ACCESS: GRANTED";
                    hint.innerText = "SCROLL TO EXPLORE";
                } else if (layerName === 'about') {
                    about.classList.add('active');
                    status.innerHTML = "PROTOCOL: INFO<br>ACCESS: GRANTED";
                    hint.innerText = "READ LAB DATA";
                }
            }
        }
        
        function resetSite() {
            closeVideo();
            navHistory = []; 
            restoreLayer('entrance');
        }

        function showAbout() {
            closeVideo();
            const current = getCurrentLayer();
            if (current !== 'about') navHistory.push(current);
            restoreLayer('about');
        }

        function goBack() {
            if (document.getElementById('video-layer').classList.contains('active')) {
                closeVideo(); return;
            }
            if (navHistory.length > 0) {
                restoreLayer(navHistory.pop());
            } else {
                if (getCurrentLayer() !== 'entrance') resetSite();
            }
        }

        function enterArchives() {
            const entrance = document.getElementById('entrance-layer');
            const overlay = document.getElementById('transition-overlay');
            const dangerOverlay = document.getElementById('danger-overlay');
            if(dangerOverlay) dangerOverlay.classList.remove('active');
            navHistory.push('entrance');
            overlay.style.display = 'block';
            let flashes = 0;
            const glitchInt = setInterval(() => {
                overlay.style.opacity = Math.random();
                flashes++;
                if (flashes > 10) { clearInterval(glitchInt); overlay.style.display = 'none'; }
            }, 50);
            entrance.classList.add('exit');
            document.getElementById('about-layer').classList.remove('active');
            setTimeout(() => {
                document.getElementById('blog-layer').classList.add('active');
                document.getElementById('status-text').innerHTML = "PROTOCOL: ARCHIVES<br>ACCESS: GRANTED";
                document.getElementById('scroll-hint').innerText = "SCROLL TO EXPLORE";
                document.body.style.overflowY = 'auto'; 
                document.body.style.cursor = 'auto'; 
            }, 800);
        }

        function openVideo(archiveId) {
            const layer = document.getElementById('video-layer');
            const target = document.getElementById('youtube-embed-target');
            const articleTarget = document.getElementById('article-content-target');
            const fallback = document.getElementById('fallback-link');
            const item = archives.find(a => a.id === archiveId);
            if (!item) return;
            target.innerHTML = `<iframe src="https://www.youtube.com/embed/${item.youtubeId}?autoplay=1&playsinline=1&rel=0&modestbranding=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
            articleTarget.innerHTML = item.articleHtml ? item.articleHtml : `<div class="article-body"><p>DATA NOT FOUND...</p></div>`;
            if(fallback) fallback.href = `https://www.youtube.com/watch?v=${item.youtubeId}`;
            layer.classList.add('active');
            layer.scrollTop = 0;
            document.body.style.cursor = 'auto'; 
        }

        function closeVideo() {
            const layer = document.getElementById('video-layer');
            layer.classList.remove('active');
            document.getElementById('youtube-embed-target').innerHTML = ''; 
            document.body.style.cursor = 'none'; 
        }

        /* EFFECTS */
        const fileInput = document.getElementById('fileInput');
        const previewLogo = document.getElementById('preview-logo');
        const placeholder = document.getElementById('placeholder');
        if (previewLogo) {
            previewLogo.onerror = function() { 
                this.style.display = 'none'; 
                if(placeholder) placeholder.style.display = 'flex'; 
            };
            previewLogo.onload = function() { 
                this.style.display = 'block'; 
                if(placeholder) placeholder.style.display = 'none'; 
            };
        }
        
        if (fileInput) {
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        previewLogo.src = e.target.result;
                        displacement.setAttribute('scale', 50);
                        setTimeout(() => { displacement.setAttribute('scale', 10); }, 500);
                    }
                    reader.readAsDataURL(file);
                }
            });
        }

        const cursorOuter = document.querySelector('.cursor-outer');
        const cursorInner = document.querySelector('.cursor-inner');
        const dangerOverlay = document.getElementById('danger-overlay');
        const turbulence = document.querySelector('feTurbulence');
        const displacement = document.querySelector('feDisplacementMap');
        const logoCont = document.querySelector('.logo-container');
        const title = document.querySelector('.hero-title');
        const bgType = document.querySelector('.background-type');
        let isHovering = false;
        let isTicking = false;
        let mouseX = window.innerWidth / 2, mouseY = window.innerHeight / 2;
        let outX = mouseX, outY = mouseY;
        // Rotation variable for electricity
        let rotation = 0;

        // PC Mouse
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX; mouseY = e.clientY;
            if (!isTicking) { window.requestAnimationFrame(() => { updateVisuals(); isTicking = false; }); isTicking = true; }
        });
        // Mobile Touch
        document.addEventListener('touchmove', (e) => {
            const t = e.touches[0];
            mouseX = t.clientX; mouseY = t.clientY;
            if (!isTicking) { window.requestAnimationFrame(() => { updateVisuals(); isTicking = false; }); isTicking = true; }
        }, { passive: true });

        // Spark creation logic
        function createSpark(x, y, speed) {
            const spark = document.createElement('div');
            spark.className = 'spark';
            document.body.appendChild(spark);
            
            const angle = Math.random() * Math.PI * 2;
            const velocity = Math.random() * speed * 0.5 + 2; 
            const life = Math.random() * 300 + 200; 

            spark.style.left = x + 'px';
            spark.style.top = y + 'px';
            
            const animation = spark.animate([
                { transform: `translate(0, 0) scale(1)`, opacity: 1 },
                { transform: `translate(${Math.cos(angle) * velocity * 10}px, ${Math.sin(angle) * velocity * 10}px) scale(0)`, opacity: 0 }
            ], {
                duration: life,
                easing: 'cubic-bezier(0, .9, .57, 1)'
            });

            animation.onfinish = () => spark.remove();
        }

        function animateCursor() {
            // Check existence of cursor elements
            if (!cursorOuter || !cursorInner) {
                requestAnimationFrame(animateCursor);
                return;
            }

            // Speed Calculation
            const speed = Math.hypot(mouseX - outX, mouseY - outY);
            
            if (speed > 2) {
                cursorOuter.classList.add('moving');
                // Speed-based rotation
                rotation += speed * 0.5; // Multiply speed for rotation effect
                
                // Trigger sparks randomly when moving fast
                if (speed > 5 && Math.random() < 0.3) {
                    createSpark(outX, outY, speed);
                }
            } else {
                cursorOuter.classList.remove('moving');
                rotation += 2; // Idle rotation
            }

            // Follow Logic with increased responsiveness (0.15 -> 0.25)
            outX += (mouseX - outX) * 0.25; 
            outY += (mouseY - outY) * 0.25;
            
            // Apply Transform
            cursorOuter.style.transform = `translate(${outX}px, ${outY}px) translate(-50%, -50%) rotate(${rotation}deg)`;
            cursorInner.style.transform = `translate(${outX}px, ${outY}px) translate(-50%, -50%)`;
            
            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        function updateVisuals() {
            // Check for existence of elements before accessing classList
            const entrance = document.getElementById('entrance-layer');

            if (!isHovering) {
                const cx = window.innerWidth / 2, cy = window.innerHeight / 2;
                const dx = (mouseX - cx) / cx, dy = (mouseY - cy) / cy;
                const fx = 0.002 + Math.abs(dx) * 0.02, fy = 0.002 + Math.abs(dy) * 0.02;
                turbulence.setAttribute('baseFrequency', `${fx} ${fy}`);
                displacement.setAttribute('scale', 10 + (Math.abs(dx) * 20));
            }
            if (entrance && !entrance.classList.contains('exit')) {
                const x = (window.innerWidth - mouseX * 2) / 100, y = (window.innerHeight - mouseY * 2) / 100;
                logoCont.style.transform = `translate(calc(-50% + ${x * 2}px), calc(-50% + ${y * 2}px))`;
                title.style.transform = `translateX(${x}px) translateY(${y}px)`;
                bgType.style.transform = `translate(-50%, -50%) translate(${x * 5}px, ${y * 5}px)`; 
            }
        }

        const logoContainer = document.getElementById('main-logo-container');
        if (logoContainer) { // Check existence
            logoContainer.addEventListener('mouseenter', () => {
                isHovering = true;
                if(cursorOuter) cursorOuter.classList.add('warning');
                if(cursorInner) cursorInner.classList.add('warning');
                if(dangerOverlay) dangerOverlay.classList.add('active'); 
                displacement.setAttribute('scale', 0);
            });
            logoContainer.addEventListener('mouseleave', () => {
                isHovering = false;
                if(cursorOuter) cursorOuter.classList.remove('warning');
                if(cursorInner) cursorInner.classList.remove('warning');
                if(dangerOverlay) dangerOverlay.classList.remove('active'); 
                displacement.setAttribute('scale', 10);
            });
        }

        /* --- Canvas Wave Animation --- */
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let waves = [];

        function resizeCanvas() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            waves = [];
            for(let i = 0; i < 3; i++) {
                waves.push({
                    y: height * (0.3 + i * 0.2),
                    length: 0.01 + i * 0.005,
                    amplitude: 50 + i * 20,
                    speed: 0.02 + i * 0.01,
                    offset: Math.random() * 100
                });
            }
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function drawWaves() {
            ctx.clearRect(0, 0, width, height);
            ctx.lineWidth = 1;
            waves.forEach((wave, i) => {
                ctx.beginPath();
                ctx.strokeStyle = `rgba(235, 191, 0, ${0.1 - i * 0.02})`;
                for(let x = 0; x < width; x += 10) {
                    const y = wave.y + Math.sin(x * wave.length + wave.offset) * wave.amplitude * Math.sin(Date.now() * 0.001);
                    ctx.lineTo(x, y);
                }
                ctx.stroke();
                wave.offset += wave.speed;
            });
            requestAnimationFrame(drawWaves);
        }
        drawWaves();

        // Remove Loader on init (since it was removed from UI but code might be good to have just in case, but let's hide it immediately)
        setTimeout(() => { 
            const l = document.querySelector('.loader');
            if(l) l.classList.add('hidden'); 
        }, 100);

    </script>
</body>
</html>
